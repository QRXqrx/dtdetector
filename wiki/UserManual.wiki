#summary Brief tutorial on how to use the dependent test detector

<wiki:toc max_depth="3" />

= Getting started =

Obtain the detector as an executable jar [http://winglam2.web.engr.illinois.edu/tools/2014/dtdetector.zip here]  (Version of the tool on May 26 2017)

*Or* 

Check out the [https://github.com/winglam/dtdetector source code] from the repository, and compile it yourself by running {{{ant}}}.

Using the directory in the zip file, execute the following command to test it:

{{{
java -cp ./dtdetector/* edu.washington.cs.dt.main.Main --help
}}}

You should see a list of possible options to run the detector.  If there are any exceptions in this step, please check your Java environment, or send me a report.


= Example - Dependent Tests in Crystal=

Obtain the Crystal's trunk version and dependent libs [http://winglam2.web.engr.illinois.edu/tools/2014/crystal.zip here]. For convenience, I packed everything to reproduce the dependent tests in a single zip file.

Directly unzip the crystal.zip, and place the "crystal" directory into the directory where the `dtdetector` directory is placed.

Here is the dir structure in my environment:

{{{
|--dtdetector
|
|--crystal
   |
   |--crystal.jar
   |
   |--crystal-orig-order
}}}

In above, crystal.jar is the latest version of Crystal and crystal-orig-order contains all unit tests in Crystal.

The following commands are based on the above dir structure. If your environment is slightly different, please adjust the classpath accordingly. In addition, if you are using a Windows machine, please change the path separator "*`:`*" accordingly.

From the directory that contains the *`crystal`* and *`dtdetector`* directories, run the following 3 commands.

==Detecting dependent tests by isolation==

{{{
java -cp dtdetector/*:crystal/crystal.jar: edu.washington.cs.dt.main.Main --isolation --tests=crystal/crystal-orig-order --report=./crystal_isolation.txt --minimize=true
}}}

You should find a file named *`crystal_isolation.txt`* containing 17 dependent tests.

==Detecting dependent tests by reverse execution==

{{{
java -cp dtdetector/*:crystal/crystal.jar: edu.washington.cs.dt.main.Main --reverse --tests=crystal/crystal-orig-order --report=./crystal_reverse.txt --minimize=true 
}}}

You should find a file named *`crystal_reverse.txt`* containing 18 dependent tests.

==Detecting dependent tests by exhaustive enumeration==

{{{
java -cp dtdetector/*:crystal/crystal.jar: edu.washington.cs.dt.main.Main --combination --k=2 --tests=crystal/crystal-orig-order --report=./crystal_combination.txt --minimize=true 
}}}

It takes around 30 mins to finish, and finds the same number of dependent tests as isolation does.

